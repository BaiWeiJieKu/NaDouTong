webpackJsonp([9],{IwDV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mtWM"),o=a.n(n),s={name:"sourceInformationSearch",data:function(){return{formItem:{goodsname:"",start:"",end:new Date,page:1},formRule:{},data:[],goodsnames:[]}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$emit("handleOptionsSearch",t.formItem):t.$Message.error("请填写必填字段")})},filterMethod:function(e,t){return-1!==t.toUpperCase().indexOf(e.toUpperCase())},handleSource:function(){o.a.get("/api/source.json").then(this.handleSourceSucc)},handleSourceSucc:function(e){(e=e.data).ret&&(this.goodsnames=e.data)}},mounted:function(){this.handleSource()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.formRule,"label-position":"left","label-width":60,inline:""}},[a("FormItem",{attrs:{label:"货物名称",prop:"goodsname"}},[a("Select",{attrs:{filterable:"",clearable:""},model:{value:e.formItem.goodsname,callback:function(t){e.$set(e.formItem,"goodsname",t)},expression:"formItem.goodsname"}},e._l(e.goodsnames,function(t,n){return a("Option",{key:n,attrs:{value:t.goodsname}},[e._v(e._s(t.goodsname))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"创建时间",prop:"start"}},[a("DatePicker",{staticStyle:{width:"160px"},attrs:{type:"date",placeholder:"请选择时间"},model:{value:e.formItem.start,callback:function(t){e.$set(e.formItem,"start",t)},expression:"formItem.start"}})],1),e._v(" "),a("FormItem",{attrs:{label:"~",prop:"end","label-width":30}},[a("DatePicker",{staticStyle:{width:"160px"},attrs:{type:"date",placeholder:"请选择时间"},model:{value:e.formItem.end,callback:function(t){e.$set(e.formItem,"end",t)},expression:"formItem.end"}})],1),e._v(" "),a("FormItem",{staticStyle:{"margin-left":"-60px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formItem")}}},[e._v("查询")])],1)],1)],1)},staticRenderFns:[]};var i={name:"sourceInformation",data:function(){var e=this;return{ruleValidate:{goodsname:[{required:!0,message:"请输入货物名称",trigger:"blur"}],goodstype:[{required:!0,message:"请选择货物类型",trigger:"change"}]},showAdd:!0,deleteStatus:!1,query:{},datas:[],href:"",dataId:"",dataTotal:0,searchItems:{},loading:!1,status:!1,temp:{id:"",goodstype:"",goodsname:"",mark:""},titles:[{type:"selection",align:"center",width:50,fixed:"left"},{title:"序号",key:"sequence",width:70,fixed:"left",align:"center",render:function(e,t){return e("div",[e("span",{props:{type:"primary",size:"small"},style:{marginRight:"5px"}},t.index+1)])}},{title:"货物类型",key:"goodstype",align:"center",fixed:"left"},{title:"货物名称",key:"goodsname",align:"center"},{title:"备注",key:"mark",align:"center",tooltip:!0},{title:"创建时间",key:"creattime",align:"center"},{title:"编辑",key:"id",width:150,fixed:"right",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.dataIndex=a.index,e.show(a.row)}}},"修改"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.deleteStatus=!0,e.dataId=a.row.id}}},"删除")])}}]}},components:{sourceInformationSearch:a("VU/8")(s,r,!1,function(e){a("SMvy")},"data-v-50ddd5ac",null).exports,Table:a("8Wy1").a},methods:{handleSearch:function(e){this.query=e,this.loading=!0,o.a.get("/api/sourceInformation.json",{params:e}).then(this.getOptionsSucc)},getOptionsSucc:function(e){this.loading=!1,(e=e.data).ret&&e.data&&(this.datas=e.data.data,this.dataTotal=e.data.total)},deleteSucc:function(){this.handleSearch(this.query)},pageChange:function(e){this.query.page=e,this.handleSearch(this.query)},handleInsert:function(){this.clearModel(),this.status=!0,this.href="/api/insertSourceInformation.json"},right:function(){var e=this;this.$refs.temp.validate(function(t){t&&(e.loading=!0,o.a.get(e.href,{params:e.temp}).then(e.insertSucc))})},cancel:function(){this.$refs.temp.resetFields(),this.status=!1},otherCancel:function(e){e||this.cancel()},insertSucc:function(e){e=e.data,this.loading=!1,e.ret&&this.handleSearch(this.query),this.status=!1},clearModel:function(){for(var e in this.temp)this.temp[e]=""},handleDelete:function(e){o.a.get("/api/deleteSourceInformation.json",{params:{ids:this.dataId}}).then(this.handleDeleteSucc)},handleDeleteSucc:function(e){this.deleteStatus=!1,(e=e.data).ret?this.handleSearch(this.query):this.$Notice.error({desc:"删除失败",duration:0})},deleteAll:function(e){o.a.get("/api/deleteSourceInformation.json",{params:{ids:e.toString()}}).then(this.handleDeleteSucc)},show:function(e){this.status=!0,this.temp.id=e.id,this.temp.goodstype=e.goodstype,this.temp.goodsname=e.goodsname,this.temp.mark=e.mark,this.href="/api/updeteSourceInformation.json"}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sourceInformationSearch",{on:{handleOptionsSearch:e.handleSearch}}),e._v(" "),a("Table",{attrs:{page:e.query.page,titles:e.titles,datas:e.datas,total:e.dataTotal,loading:e.loading,show:e.showAdd},on:{handleInsert:e.handleInsert,deleteAll:e.deleteAll,pageChange:e.pageChange}}),e._v(" "),a("Modal",{attrs:{"footer-hide":!0,"ok-text":"确定","cancel-text":"取消","mask-closable":!1,width:"500",styles:{top:"20px"}},on:{"on-visible-change":e.otherCancel},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("Form",{ref:"temp",staticStyle:{"margin-top":"20px"},attrs:{rules:e.ruleValidate,model:e.temp,"label-width":100}},[a("FormItem",{attrs:{label:"货物类型",prop:"goodstype"}},[a("Select",{model:{value:e.temp.goodstype,callback:function(t){e.$set(e.temp,"goodstype",t)},expression:"temp.goodstype"}},[a("Option",{attrs:{value:"电子产品"}},[e._v("电子产品")]),e._v(" "),a("Option",{attrs:{value:"商品汽车"}},[e._v("商品汽车")]),e._v(" "),a("Option",{attrs:{value:"冷藏货物"}},[e._v("冷藏货物")]),e._v(" "),a("Option",{attrs:{value:"大宗货物"}},[e._v("大宗货物")]),e._v(" "),a("Option",{attrs:{value:"快速消费品"}},[e._v("快速消费品")]),e._v(" "),a("Option",{attrs:{value:"农产品"}},[e._v("农产品")]),e._v(" "),a("Option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"货物名称",prop:"goodsname"}},[a("Input",{attrs:{placeholder:"货物名称"},model:{value:e.temp.goodsname,callback:function(t){e.$set(e.temp,"goodsname",t)},expression:"temp.goodsname"}})],1),e._v(" "),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注"},model:{value:e.temp.mark,callback:function(t){e.$set(e.temp,"mark",t)},expression:"temp.mark"}})],1),e._v(" "),a("FormItem",[a("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between"}},[a("Button",{staticClass:"button",attrs:{size:"large",type:"success"},on:{click:e.right}},[e._v("确定")]),e._v(" "),a("Button",{staticClass:"button",attrs:{size:"large",type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)])],1)],1),e._v(" "),a("Modal",{attrs:{"ok-text":"删除","cancel-text":"取消","class-name":"vertical-center-modal"},on:{"on-ok":e.handleDelete},model:{value:e.deleteStatus,callback:function(t){e.deleteStatus=t},expression:"deleteStatus"}},[a("p",[e._v("确定删除吗")])])],1)},staticRenderFns:[]};var d=a("VU/8")(i,l,!1,function(e){a("pus3")},"data-v-5f362c78",null);t.default=d.exports},SMvy:function(e,t){},pus3:function(e,t){}});