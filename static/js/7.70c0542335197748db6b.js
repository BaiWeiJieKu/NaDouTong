webpackJsonp([7],{Sj24:function(e,t){},V9GW:function(e,t){},eXpf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("aozt"),r=a.n(n),i={name:"TableComponents",methods:{pageChange:function(e){this.$emit("pageChange",e)}},props:{titles:Array,content:Array,total:Number,page:Number}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Table",{ref:"tableref",attrs:{border:"",data:this.content,columns:this.titles}}),this._v(" "),t("Page",{attrs:{current:this.page,total:this.total,"page-size":15,simple:""},on:{"on-change":this.pageChange}})],1)},staticRenderFns:[]};var o=a("C7Lr")(i,s,!1,function(e){a("Sj24")},"data-v-73dbd8f5",null).exports,l={name:"optionsformationSearch",data:function(){return{formItem:{realname:"",time:"",page:1},formRule:{},data:[]}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$emit("handleOptionsSearch",t.formItem):t.$Message.error("请填写必填字段")})},startChange:function(e){var t=new Date(this.formItem.end);new Date(e)>t&&(this.formItem.start="")},endChange:function(e){var t=new Date(this.formItem.start);new Date(e)<t&&(this.formItem.end="")}},props:{realnames:Array,numberplates:Array}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.formRule,"label-position":"left","label-width":60,inline:""}},[a("FormItem",{attrs:{label:"开始时间",prop:"start"}},[a("DatePicker",{staticStyle:{width:"160px"},attrs:{type:"month",placeholder:"请选择时间"},model:{value:e.formItem.time,callback:function(t){e.$set(e.formItem,"time",t)},expression:"formItem.time"}})],1),e._v(" "),a("FormItem",{attrs:{label:"司机",prop:"realname"}},[a("Select",{staticStyle:{width:"160px"},attrs:{clearable:"",filterable:""},model:{value:e.formItem.realname,callback:function(t){e.$set(e.formItem,"realname",t)},expression:"formItem.realname"}},e._l(e.realnames,function(t,n){return a("Option",{key:n,attrs:{value:t.id,name:t.id}},[e._v(e._s(t.realname))])}))],1),e._v(" "),a("FormItem",{staticStyle:{"margin-left":"-60px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formItem")}}},[e._v("查询")])],1)],1)],1)},staticRenderFns:[]};var c={name:"Statistics",data:function(){return{numberplates:[],orderdriver:[],realnames:[],titles:[{title:"序号",key:"sequence",width:70,align:"center",render:function(e,t){return e("div",[e("span",{props:{type:"primary",size:"small"},style:{marginRight:"5px"}},t.index+1)])}},{title:"司机名称",key:"realname",align:"center"},{title:"手机号",key:"tel",align:"center"},{title:"拉运量",key:"traffic",align:"center",render:function(e,t){var a=t.row.traffic.toString();return-1==a.indexOf(".")&&(a+=".000"),e("span",a)}},{title:"总金额",key:"money",align:"center"}],content:[],total:Number,query:{}}},methods:{pageChange:function(e){this.query.page=e,this.handleOptionsSearch(this.query)},handleSearch:function(e){this.query=e,r.a.get("/api/statistics.json",{params:this.query}).then(this.getOptionsSucc)},getOptionsSucc:function(e){(e=e.data).ret&&(this.content=e.data.data,this.total=e.data.total)},initPage:function(){r.a.get("/api/transportReceipt.json").then(this.initPageSucc)},initPageSucc:function(e){(e=e.data).ret&&(this.realnames=e.data.realnames,this.numberplates=e.data.numberplates)}},mounted:function(){this.initPage()},components:{statisticsSearch:a("C7Lr")(l,m,!1,function(e){a("tLm4")},"data-v-74b8c536",null).exports,Table:o}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("statisticsSearch",{attrs:{numberplates:e.numberplates,realnames:e.realnames},on:{handleOptionsSearch:e.handleSearch}}),e._v(" "),a("Table",{attrs:{titles:e.titles,content:e.content,page:e.query.page},on:{page:e.pageChange}})],1)},staticRenderFns:[]};var f=a("C7Lr")(c,u,!1,function(e){a("V9GW")},"data-v-2399eb82",null);t.default=f.exports},tLm4:function(e,t){}});